
?. digital_in_define.h, digital_out_define.h io_unit director로 이동 



. code refactoring
. main controller <---> sub unit 구조 만들기


. 모든 unit에 heartbeat 추가하기
. droid에 heartbeat 판독 
. 모든 unit은 PrevInit 상태에서 droid의 init 명령으로 초기화 과정을 수행
. 모든 unit은 PrevInit 상태에서 init 명령을 수신후 초기화 동작 및 동작 완료후 Initialized 메세지 전송
. io heartbeat 메세지 수신이 2초이상 update되지 않으면 truble log
. io heartbeat 메세지 수신이 2초이상 update되지 않으면 모든 unit 동작 정지


. io_node에 heartbeat를 발송하는 publisher 만들기
  publisher는 UnitState.msg를 발송한다. 
  dorid_node에서는 이것을 가지고 unit의 상태의 판단과 heartbeat관리를 한다.

. droid_node에 LinkChecker object 추가하기
  - LinkChecker object 삭제 (UnitObserver node가 관리하는 방법으로 변경)



. 현재 각 node별로 소멸자에서 
  ros::shutdown();
  ros::waitForShutdown(); 
  호출되 되던것을 node::shutdown(), node::waitForShutdown(); 형식으로 변경


//=========================================================
//=========================================================

ID :  - JD 24.11.20
1. UnitObserver Class refactoring
  - state 보고가 아닌 alive 보고의 개념으로 변경
  - 전체 unit의 상태를 publish 하는 개념 반영
  - alive info check하기 위한 변수명
  - UnitObserver Class 동작속도 50Hz로 변경
2. UnitObserver node 추가하기
  - unit_observer node 추가로 인한 CMakeLists.txt 변경


ID : 264f1bb - JD 24.11.20
1. .gitignore 파일 추가
  - devel Dir 무시.
  - build Dir 무시.

2. Wago class refactoring
  - state 보고가 아닌 alive 보고의 개념으로 변경
  - _last_state_time 변수명을 _last_alive_time로 변경

ID : 1b893fe - JD 24.11.20
1. UnitObserver Class 추가.
2. UnitAliveInfo Class 추가.
3. UnitAliveMsg.msg 추가.
4. UnitStateMsg.msg 추가.
5. 1~4 작업에 따른 SourceCode 변경
6. twinny_msgs package 추가.
7. fieldro lib에 message 의존성 추가


ID : e88c1e7 - JD 24.11.13
1. modbus wrapper reconnect 횟수 option 적용 안되는 부분 수정
2. modbus tcp connect logic 중 일부 체크 옵션 추가


ID : ad7df98 - JD 24.11.11
1. doxygen snippets 수정
2. cppclass snippets 추가
3. doxygen_class snippets 추가


ID : 98a9e80 - JD 24.11.07
1. modbus wrapper 통신 끊김 현상 수정
  socket buffer 64k로 변경
  io thread hz 50으로 변경
  (iptime router 이상, LET router 사용시 문제 없음)


ID : 88ad4a4 - JD 24.11.04
1. io_unit config 정리
2. droid config 정리
3. publish node 명 정리
4. subscribe node 명 정리
5. UnitState에 UnConnect, InitReady 상태 추가
6. io heartbeat 0.5초에 한번씩 또는 update 시전에 publish 하도록 변경
7. unit class에 상태보고 publish 만들기.
8. LinkChecker class 추가 (각 unit에 대한 연결 상태 관리를 위한 class)



ID : a51f5ac - JD 24.11.04
1. droid node 추가
2. io_unit node 추가
3. default base 완성